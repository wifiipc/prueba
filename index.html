<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para ti ❤️</title>
    <style>
        /* --- FUENTES --- */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&family=Dancing+Script:wght@700&family=Pacifico&display=swap');

        /* --- RESET Y BASE --- */
        *, *::after, *::before { padding: 0; margin: 0; box-sizing: border-box; }
        :root { --dark-color: #000; --accent: #ff4d6d; }

        body {
            display: flex; align-items: flex-end; justify-content: center;
            min-height: 100vh; background-color: var(--dark-color);
            overflow: hidden; perspective: 1000px;
            font-family: 'Montserrat', sans-serif; color: white;
            -webkit-user-select: none; user-select: none; /* Mejor experiencia móvil */
        }

        /* --- POP-UP MÚSICA (RESPONSIVE) --- */
        #music-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); z-index: 20000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            backdrop-filter: blur(10px); transition: opacity 0.8s ease;
        }
        
        .music-card {
            background: #121212; padding: 30px; border-radius: 20px;
            box-shadow: 0 0 50px rgba(255, 77, 109, 0.2);
            text-align: center; max-width: 400px; width: 85%;
            border: 1px solid #333;
        }

        .music-card h2 {
            font-family: 'Pacifico', cursive; color: var(--accent);
            margin-bottom: 10px; font-size: 1.8rem;
        }

        .song-list { display: flex; flex-direction: column; gap: 10px; max-height: 50vh; overflow-y: auto; }

        .song-btn {
            background: #282828; color: white; border: none;
            padding: 12px; border-radius: 10px; cursor: pointer;
            display: flex; align-items: center; gap: 15px;
            transition: 0.2s; text-align: left;
        }
        .song-btn:active { background: #444; } /* Feedback táctil */

        /* --- CONTROLES MÓVILES --- */
        .controls {
            position: absolute; top: 20px; right: 20px; z-index: 10000;
            display: flex; gap: 8px; opacity: 0; transition: 1s;
        }
        .btn-glass {
            padding: 8px 16px; background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2); color: white;
            border-radius: 30px; cursor: pointer; backdrop-filter: blur(5px);
            transition: 0.3s; font-weight: bold; font-size: 0.85rem;
        }
        .btn-glass:active { transform: scale(0.95); background: var(--accent); }

        /* --- ESCENAS --- */
        .escena {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; pointer-events: none; transition: opacity 1s ease;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
        }
        .activa { opacity: 1; pointer-events: all; }

        /* --- ESCENA 1: UNIVERSO --- */
        #universo { background: black; }
        #starCanvas { position: absolute; z-index: 1; top:0; left:0; width:100%; height:100%; }
        #contenido-texto {
            position: relative; z-index: 10; text-align: center;
            background: rgba(0, 0, 0, 0.4); padding: 30px;
            border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
            width: 90%; max-width: 600px;
        }
        h1 { font-family: 'Dancing Script', cursive; font-size: 3.5rem; color: #ff4d6d; text-shadow: 0 0 20px #ff4d6d; margin: 0; line-height: 1.1; }

        /* --- ESCENA 2: JARDÍN --- */
        #jardin { width: 100%; height: 100%; }
        .night {
            position: fixed; left: 50%; top: 0; transform: translateX(-50%);
            width: 100%; height: 100%; filter: blur(0.1vmin);
            background-image: radial-gradient(ellipse at top, transparent 0%, var(--dark-color)), radial-gradient(ellipse at bottom, var(--dark-color), rgba(145, 233, 255, 0.2)), repeating-linear-gradient(220deg, rgb(0,0,0) 0px, rgb(0,0,0) 19px, transparent 19px, transparent 22px), repeating-linear-gradient(189deg, rgb(0,0,0) 0px, rgb(0,0,0) 19px, transparent 19px, transparent 22px), repeating-linear-gradient(148deg, rgb(0,0,0) 0px, rgb(0,0,0) 19px, transparent 19px, transparent 22px), linear-gradient(90deg, rgb(0, 255, 250), rgb(240, 240, 240)); z-index: 0;
        }

        .flowers-container { position: absolute; bottom: -5vmin; left: 0; width: 100%; height: 100%; z-index: 10; pointer-events: none; }
        .flower-wrapper { position: absolute; bottom: 0; transform-origin: bottom center; }

        /* TEXTOS ADAPTADOS */
        .mensaje-poema {
            position: absolute; top: 15%; z-index: 100; text-align: center; width: 90%;
            font-family: 'Dancing Script', cursive; font-size: 1.8rem; color: #fff;
            text-shadow: 0 0 10px rgba(0, 255, 250, 0.8);
            animation: aparecer 3s ease-in forwards;
        }
        .contador-dias {
            position: absolute; top: 28%; width: 100%; text-align: center;
            font-family: 'Montserrat', sans-serif; font-size: 1rem; font-weight: bold;
            color: #ff99ac; text-shadow: 0 2px 5px rgba(0,0,0,0.8); z-index: 100;
            letter-spacing: 1px; padding: 0 10px;
        }

        /* --- ESCENA 3 & 4 --- */
        #corazon-scene { background: radial-gradient(circle, #1a0b14 0%, #000 100%); }
        #heartCanvas { position: absolute; z-index: 1; }
        .titulo-flotante {
            position: absolute; top: 15%; font-family: 'Pacifico'; font-size: 2.5rem;
            color: #ff99ac; text-shadow: 0 0 20px #ff006e; z-index: 10;
            animation: flotar 3s infinite; text-align: center; width: 100%;
        }
        
        #galeria { background: #000; overflow: hidden; }
        .carousel-container {
            position: relative; width: 140px; height: 200px;
            transform-style: preserve-3d; animation: rotarCarrusel 20s infinite linear;
            margin-top: 40px;
        }
        .foto-card {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.1); border: 2px solid #ff4d6d;
            border-radius: 10px; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(255,77,109,0.5);
        }
        .foto-card img { width: 100%; height: 100%; object-fit: cover; }

        /* --- FLORES CSS --- */
        .flower { position: absolute; bottom: 10vmin; transform-origin: bottom center; z-index: 10; --fl-speed: 0.8s; }
        .flower--1 { animation: moving-flower-1 4s linear infinite; } .flower--2 { left: 50%; transform: rotate(20deg); animation: moving-flower-2 4s linear infinite; } .flower--3 { left: 50%; transform: rotate(-15deg); animation: moving-flower-3 4s linear infinite; }
        .flower__line { height: 55vmin; width: 1.5vmin; background-image: linear-gradient(to left, rgba(0,0,0,0.2), transparent, rgba(255,255,255,0.2)), linear-gradient(to top, transparent 10%, #14757a, #39c6d6); box-shadow: inset 0 0 2px rgba(0,0,0,0.5); animation: grow-flower-tree 4s backwards; }
        .flower--1 .flower__line { height: 70vmin; animation-delay: 0.3s; } .flower--2 .flower__line { height: 60vmin; animation-delay: 0.6s; } .flower--3 .flower__line { animation-delay: 0.9s; }
        .flower__leafs { position: relative; animation: blooming-flower 2s backwards; } .flower__leafs--1 { animation-delay: 1.1s; } .flower__leafs--2 { animation-delay: 1.4s; } .flower__leafs--3 { animation-delay: 1.7s; }
        .flower__leafs::after { content: ""; position: absolute; left: 0; top: 0; transform: translate(-50%, -100%); width: 8vmin; height: 8vmin; background-color: #6bf0ff; filter: blur(10vmin); }
        .flower__leaf { position: absolute; bottom: 0; left: 50%; width: 8vmin; height: 11vmin; border-radius: 51% 49% 47% 53% / 44% 45% 55% 69%; background-color: #a7ffee; background-image: linear-gradient(to top, #54b8aa, #a7ffee); transform-origin: bottom center; opacity: 0.9; box-shadow: inset 0 0 2vmin rgba(255, 255, 255, 0.5); }
        .flower__leaf--1 { transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg); } .flower__leaf--2 { transform: translate(-50%, -4%) rotateX(40deg); } .flower__leaf--3 { transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg); } .flower__leaf--4 { width: 8vmin; height: 8vmin; transform-origin: bottom left; border-radius: 4vmin 10vmin 4vmin 4vmin; transform: translate(-0%, 18%) rotateX(70deg) rotate(-43deg); background-image: linear-gradient(to top, #39c6d6, #a7ffee); z-index: 1; opacity: 0.8; }
        .flower__white-circle { position: absolute; left: -3.5vmin; top: -3vmin; width: 9vmin; height: 4vmin; border-radius: 50%; background-color: #fff; }
        .flower__white-circle::after { content: ""; position: absolute; left: 50%; top: 45%; transform: translate(-50%, -50%); width: 60%; height: 60%; border-radius: inherit; background-image: repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), linear-gradient(90deg, rgb(255, 235, 18), rgb(255, 206, 0)); }
        .flower__line__leaf { position: absolute; top: 20%; left:
